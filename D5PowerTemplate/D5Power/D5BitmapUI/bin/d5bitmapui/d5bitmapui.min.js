var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);i.prototype=e.prototype,t.prototype=new i},d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._moveAction=0,i.autoRelease&&t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.dispose,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"moveAction",{get:function(){return this._moveAction},set:function(t){this._moveAction=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"me",{get:function(){return null==i._me&&(i._me=new i),i._me},enumerable:!0,configurable:!0}),i.addMoveList=function(t){i._moveList.push(t),i.me.hasEventListener(egret.Event.ENTER_FRAME)||i.me.addEventListener(egret.Event.ENTER_FRAME,this.onMoveUI,this)},i.onMoveUI=function(t){for(var e,s=i._moveList.length-1;s>=0;s--)switch(e=i._moveList[s],e.moveAction){case i.MOVE_LEFT:e.x+=(e.startX-e.x)/5,Math.ceil(e.x)>=e.startX&&(e.x=e.startX,i._moveList.splice(s,1));break;case i.MOVE_RIGHT:e.x-=(e.x-e.startX)/5,Math.floor(e.x)<=e.startX&&(e.x=e.startX,i._moveList.splice(s,1));break;case i.MOVE_UP:e.y+=(e.startY-e.y)/5,Math.ceil(e.y)>=e.startY&&(e.y=e.startY,i._moveList.splice(s,1));break;case i.MOVE_DOWN:e.y-=(e.y-e.startY)/5,Math.floor(e.y)<=e.startY&&(e.y=e.startY,i._moveList.splice(s,1));break;case i.MOVE_ALPHA:e.alpha+=(1-e.alpha)/5,Math.abs(1-e.alpha)<=.01&&(e.alpha=1,i._moveList.splice(s,1))}0==i._moveList.length&&i.me.removeEventListener(egret.Event.ENTER_FRAME,this.onMoveUI,this)},i.prototype.add2Me=function(t,e,i){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),null==parent)return void this.addEventListener(egret.Event.ADDED_TO_STAGE,this.add2Me,this);t&&this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.add2Me,this);for(var s=new egret.Rectangle(this.x,this.y,this.width,this.height),r=[],h=this.parent,o=h.numChildren-1;o>=0;o--){var n=h.getChildAt(o);e&&-1==e.indexOf(n)||n!=this&&(s.contains(n.x,n.y)||null!=i&&-1!=i.indexOf(n))&&(n.x=n.x-this.x,n.y=n.y-this.y,r.push(n))}for(o=r.length-1;o>=0;o--)this.addChild(r[o]);this.parent.setChildIndex(this,0)},i.prototype.setSkin=function(t){},i.setproBindingSource=function(t){this._pro_binding_source=t},Object.defineProperty(i,"proBindingSource",{get:function(){return this._pro_binding_source},enumerable:!0,configurable:!0}),i.prototype.setSize=function(t,e){this._w=t,this._h=e,this.invalidate()},Object.defineProperty(i.prototype,"nowName",{get:function(){return this._nowName},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._w},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._h},enumerable:!0,configurable:!0}),i.getComponentByURL=function(e,s,r){void 0===r&&(r=null);var h=function(h){var o,n,a,l=h.uiList,d=l.length,p=[];s._realWidth=parseInt(h.width),s._realHeight=parseInt(h.height),s._flyX=h.flyx,s._flyY=h.flyy,s.drawBg&&""!=h.bgImg&&s.drawBg(h.bgImg);for(var u=0;d>u;u++)o=l[u],n=i.getCompoentByJson(o,s),a=o.file,a&&null==t.D5UIResourceData.getData(a)&&(n._belone=e,p.push(n)),a=o.src,a&&null==t.D5UIResourceData.getData(a)&&(n._belone=e,p.push(n)),s.addChild(n);p.length?i._preloadList[e]=[p,r,s]:r&&r.apply(s,[0])};RES.getResByUrl(e,h,null,RES.ResourceItem.TYPE_JSON)},i.prototype.loadResource=function(t,e,i){RES.getResByUrl(t,e,i,RES.ResourceItem.TYPE_IMAGE)},i.getCompoentByJson=function(e,i){var s;switch(e.Class){case"D5Window":s=new t.D5Window,s.x1=parseInt(e.x1),s.y1=parseInt(e.y1),s.x2=parseInt(e.x2),s.y2=parseInt(e.y2),s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSize(e.width,e.height);for(var r,h=e.uiList,o=h.length,n=0;o>n;n++)r=h[n],s.addChild(this.getCompoentByJson(r,i));i&&(i[s.name]=s);break;case"D5MirrorBox":s=new t.D5MirrorBox,s.name=e.name,s.cutX=parseInt(e.cutX),s.cutY=parseInt(e.cutY),s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSize(e.width,e.height);for(var r,h=e.uiList,o=h.length,n=0;o>n;n++)r=h[n],s.addChild(this.getCompoentByJson(r,i));i&&(i[s.name]=s);break;case"D5Button":s=new t.D5Button,s.type=parseInt(e.type),s.name=e.name,s.setSkin(e.skinId),s.setSound(e.soundDown),s.x=e.x,s.y=e.y,s.setIcon(e.icon);var a=e.listener;e.lable&&""!=e.lable&&s.setLable(e.lable),""!=a&&"null"!=a&&null!=a&&null!=i&&s.setCallback(i[a]),i&&(i[s.name]=s);break;case"D5MirrorLoop":s=new t.D5MirrorLoop,s.name=e.name,s._mode=e.workmode,s._cutSize=e.cutsize,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSize(e.width,e.height),i&&(i[s.name]=s);break;case"D5Bitmap":s=new t.D5Bitmap,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,i&&(i[s.name]=s);break;case"D5RadioBtn":s=new t.D5RadioBtn,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,null!=e.group&&""!=e.group&&(s.groupName=e.group),e.lable&&""!=e.lable&&s.setLable(e.lable),i&&(i[s.name]=s);break;case"D5FlyBox":s=new t.D5FlyBox,s.name=e.name,s.x=e.x,s.y=e.y,s.setMaxWidth(e.maxWidth),i&&(i[s.name]=s);break;case"D5HBox":s=new t.D5HBox,s.name=e.name,s.x=e.x,s.y=e.y,i&&(i[s.name]=s);break;case"D5VBox":s=new t.D5VBox,s.name=e.name,s.x=e.x,s.y=e.y,i&&(i[s.name]=s);break;case"D5Text":s=new t.D5Text("文字"==e.textValue?"":e.textValue,e.fontColor,-1,e.filterColor,e.fontSize),s.name=e.name,s.x=e.x,s.y=e.y,s.setSize(e.width,e.height),s.setType(e.type),s.setTextAlign(e.alignType),s.setFontBold(e.bold),s.setBgColor(e.bgColor),s.setLtBorder(e.ltColor),s.setRbBorder(e.rbColor),s.setWrapFlg(e.wrapType),s.setIsPassword(e.password),s.setTextID(e.textID.toString()),s._binding=e.binding,i&&(i[s.name]=s),i&&i&&""!=s._binding&&i.addBinder(s);break;case"D5ImageBox":s=new t.D5ImageBox,s.name=e.name,s.x=e.x,s.y=e.y,s.setSize(e.width,e.height),s.showNum(e.shownum),s.setLogo(e.bg.toString()),i&&(i[s.name]=s);break;case"D5ButtonGroup":s=new t.D5ButtonGroup,s.name=e.name,s.x=e.x,s.y=e.y;for(var r,h=e.uiList,o=h.length,n=0;o>n;n++)r=h[n],s.addChild(this.getCompoentByJson(r,i));i&&(i[s.name]=s);break;case"D5Swf":s=new t.D5Swf,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSrc(e.src),i&&(i[s.name]=s);break;case"D5BitmapNumber":s=new t.D5BitmapNumber,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setAlign(e.align),s.setValue(1),i&&(i[s.name]=s);break;case"D5Shape":s=new t.D5Shape,s.name=e.name,s.x=e.x,s.y=e.y,s.drawAlpha=null==e.fillAlpha?1:e.fillAlpha,s.setWorkMode(e.workMode),s.setFillColor(e.fillColor),s.setTickNess(e.tickNess),s.setColor(e.color),s.setOffX(e.offX),s.setOffY(e.offY),s.setSize(e.width,e.height),s.setRadius(e.radius),s.pointString=e.pointString,i&&(i[s.name]=s);break;case"D5Loop":s=new t.D5Loop(e.workmode,e.cutsize1,e.cutsize2),s.name=e.name,s.x=e.x,s.y=e.y,s.setSkin(e.file),s.setSize(e.width,e.height),i&&(i[s.name]=s)}return s.startX=e.x,s.startY=e.y,s.moveAction=parseInt(e.moveAction),s},i.prototype.dispose=function(){},i.prototype.invalidate=function(){this.once(egret.Event.ENTER_FRAME,this.draw,this)},i.prototype.draw=function(){this.invalidateSize(),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},i.prototype.invalidateSize=function(){if(this._belone){var t=i._preloadList[this._belone],e=t[0],s=t[1],r=t[2],h=e.indexOf(this);-1!=h&&e.splice(h,1),s.apply(r,[e.length]),e.length||delete i._preloadList[this._belone]}},i.prototype.autoCache=function(){this.cacheAsBitmap=!1,this.once(egret.Event.ENTER_FRAME,this.onAutoCache,this)},i.prototype.onAutoCache=function(t){this.cacheAsBitmap=!0},i.MOVE_NUMBER=10,i.MOVE_NONE=0,i.MOVE_LEFT=1,i.MOVE_RIGHT=2,i.MOVE_DOWN=3,i.MOVE_UP=4,i.MOVE_ALPHA=5,i.autoRelease=!1,i._preloadList={},i._moveList=[],i}(egret.Sprite);t.D5Component=e,__reflect(e.prototype,"d5power.D5Component")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.cutX=0,t.cutY=0,t}return __extends(i,e),i.prototype.setRes=function(t){this.onComplate(t)},i.prototype.onComplate=function(t){var e=new egret.SpriteSheet(t);e.createTexture("0",0,0,this.cutX,this.cutY),e.createTexture("1",this.cutX,0,t.textureWidth-this.cutX,this.cutY),e.createTexture("2",0,this.cutY,this.cutX,t.textureHeight-this.cutY),e.createTexture("3",this.cutX,this.cutY,t.textureWidth-this.cutX,t.textureHeight-this.cutY),null==this.lt&&(this.lt=new egret.Bitmap),this.lt.texture=e.getTexture("0"),null==this.t&&(this.t=new egret.Bitmap),this.t.texture=e.getTexture("1"),this.t.fillMode=egret.BitmapFillMode.REPEAT,null==this.rt&&(this.rt=new egret.Bitmap),this.rt.texture=e.getTexture("0"),this.rt.scaleX=-1,null==this.l&&(this.l=new egret.Bitmap),this.l.texture=e.getTexture("2"),this.l.fillMode=egret.BitmapFillMode.REPEAT,null==this.m&&(this.m=new egret.Bitmap),this.m.texture=e.getTexture("3"),this.m.fillMode=egret.BitmapFillMode.REPEAT,null==this.r&&(this.r=new egret.Bitmap),this.r.texture=e.getTexture("2"),this.r.scaleX=-1,this.r.fillMode=egret.BitmapFillMode.REPEAT,null==this.lb&&(this.lb=new egret.Bitmap),this.lb.texture=e.getTexture("0"),this.lb.scaleY=-1,null==this.b&&(this.b=new egret.Bitmap),this.b.texture=e.getTexture("1"),this.b.scaleY=-1,this.b.fillMode=egret.BitmapFillMode.REPEAT,null==this.rb&&(this.rb=new egret.Bitmap),this.rb.texture=e.getTexture("0"),this.rb.scaleX=this.rb.scaleY=-1,this.rb.fillMode=egret.BitmapFillMode.REPEAT,this.invalidate()},i.prototype.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i)return trace("[D5MirrorBox]No Resource"+e),void this.loadResource(e,this.onComplate,this);null==this.lt&&(this.lt=new egret.Bitmap),this.lt.texture=i.getResource(0),null==this.t&&(this.t=new egret.Bitmap),this.t.texture=i.getResource(1),this.t.fillMode=egret.BitmapFillMode.REPEAT,null==this.rt&&(this.rt=new egret.Bitmap),this.rt.texture=i.getResource(0),this.rt.scaleX=-1,null==this.l&&(this.l=new egret.Bitmap),this.l.texture=i.getResource(2),this.l.fillMode=egret.BitmapFillMode.REPEAT,null==this.m&&(this.m=new egret.Bitmap),this.m.texture=i.getResource(3),this.m.fillMode=egret.BitmapFillMode.REPEAT,null==this.r&&(this.r=new egret.Bitmap),this.r.texture=i.getResource(2),this.r.scaleX=-1,this.r.fillMode=egret.BitmapFillMode.REPEAT,null==this.lb&&(this.lb=new egret.Bitmap),this.lb.texture=i.getResource(0),this.lb.scaleY=-1,null==this.b&&(this.b=new egret.Bitmap),this.b.texture=i.getResource(1),this.b.scaleY=-1,this.b.fillMode=egret.BitmapFillMode.REPEAT,null==this.rb&&(this.rb=new egret.Bitmap),this.rb.texture=i.getResource(0),this.rb.scaleX=this.rb.scaleY=-1,this.rb.fillMode=egret.BitmapFillMode.REPEAT,this.invalidate()}},i.prototype.draw=function(){null!=this.l&&(this.contains(this.l)||(this.addChildAt(this.lt,0),this.addChildAt(this.t,0),this.addChildAt(this.rt,0),this.addChildAt(this.l,0),this.addChildAt(this.m,0),this.addChildAt(this.r,0),this.addChildAt(this.lb,0),this.addChildAt(this.b,0),this.addChildAt(this.rb,0)),this.t.x=this.m.x=this.b.x=this.lt.width,this.rt.x=this.r.x=this.rb.x=this._w,this.l.y=this.m.y=this.r.y=this.lt.height,this.lb.y=this.b.y=this.rb.y=this._h,this.m.width=this.t.width=this.b.width=this._w-2*this.lt.width,this.m.height=this.l.height=this.r.height=this._h-2*this.lt.height,this.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),this.autoCache(),e.prototype.draw.call(this))},Object.defineProperty(i.prototype,"mBitmap",{get:function(){return this.m},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.lt&&(this.lt.parent&&this.lt.parent.removeChild(this.lt),this.lt.texture=null,this.lt=null),this.t&&(this.t.parent&&this.t.parent.removeChild(this.t),this.t.texture=null,this.t=null),this.rt&&(this.rt.parent&&this.rt.parent.removeChild(this.rt),this.rt.texture=null,this.rt=null),this.l&&(this.l.parent&&this.l.parent.removeChild(this.l),this.l.texture=null,this.l=null),this.m&&(this.m.parent&&this.m.parent.removeChild(this.m),this.m.texture=null,this.m=null),this.r&&(this.r.parent&&this.r.parent.removeChild(this.r),this.r.texture=null,this.r=null),this.lb&&(this.lb.parent&&this.lb.parent.removeChild(this.lb),this.lb.texture=null,this.lb=null),this.b&&(this.b.parent&&this.b.parent.removeChild(this.b),this.b.texture=null,this.b=null),this.rb&&(this.rb.parent&&this.rb.parent.removeChild(this.rb),this.rb.texture=null,this.rb=null)},i}(t.D5Component);t.D5MirrorBox=e,__reflect(e.prototype,"d5power.D5MirrorBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(t,i,s,r,h){void 0===t&&(t=""),void 0===i&&(i=-1),void 0===s&&(s=-1),void 0===r&&(r=-1),void 0===h&&(h=12);var o=e.call(this)||this;return o._bgColor=-1,o._lightBorder=-1,o._darkBorder=-1,o._filterColor=-1,o._maxWidth=200,o._textField=new egret.TextField,o._textField.verticalAlign=egret.VerticalAlign.MIDDLE,o._textField.textAlign=egret.HorizontalAlign.LEFT,i>=0&&(o._textField.textColor=i),s>=0&&o.setBgColor(s),r>=0&&o.setFontBorder(r),o._textField.lineSpacing=4,o.setFontSize(h),""!=t&&o.setText(t),o.addChild(o._textField),o}return __extends(i,e),i.prototype.update=function(){this.setText(t.D5Component._pro_binding_source.getPro(this._binding))},i.prototype.invalidateSize=function(){this._w=0==this._maxWidth||0==this._textField.multiline?this._textField.textWidth+6:this._maxWidth,this._h=this._textField.textHeight+10,this.setWidth(this._w),this.setHeight(this._h)},i.prototype.clone=function(){var t=new i;return this.copyFormat(t),t},i.prototype.copyFormat=function(t,e){void 0===e&&(e="文字"),t.setFontBold(this.fontBold),t.setFontSize(this.fontSize),t.setFontBorder(this.fontBorder),t.setSize(this._w,this._h),t._maxWidth=this._maxWidth,t._textField.verticalAlign=this._textField.verticalAlign,t._textField.textAlign=this._textField.textAlign,t._textField.multiline=this._textField.multiline,t._textField.type=this._textField.type,t.setTextColor(this.textColor),t.setLtBorder(this.ltBorder),t.setRbBorder(this.rbBorder),t.setBgColor(this.bgColor),t.setIsPassword(this.isPassword)},i.prototype.setVerticalAlign=function(t){switch(void 0===t&&(t=0),t){case i.TOP:this._textField.verticalAlign=egret.VerticalAlign.TOP;break;case i.MIDDLE:this._textField.verticalAlign=egret.VerticalAlign.MIDDLE;break;case i.BOTTOM:this._textField.verticalAlign=egret.VerticalAlign.BOTTOM}},i.prototype.setFontBorder=function(t){void 0===t&&(t=0),0>t?this._textField.stroke=0:(this._textField.stroke=1,this._textField.strokeColor=t),this._filterColor=t},Object.defineProperty(i.prototype,"fontBorder",{get:function(){return this._filterColor},enumerable:!0,configurable:!0}),i.prototype.setText=function(t){null!=this._textField&&(this._textField.text=t)},Object.defineProperty(i.prototype,"text",{get:function(){return this._textField.text},set:function(t){null!=this._textField&&(this._textField.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textField",{get:function(){return this._textField},enumerable:!0,configurable:!0}),i.prototype.setHtmlText=function(t){null!=this._textField&&(this._textField.textFlow=(new egret.HtmlTextParser).parser(t))},i.prototype.setBgColor=function(t){void 0===t&&(t=0),this._bgColor=t,this.setSize(this._w,this._h)},Object.defineProperty(i.prototype,"bgColor",{get:function(){return this._bgColor},enumerable:!0,configurable:!0}),i.prototype.setLtBorder=function(t){void 0===t&&(t=0),this._lightBorder=t,this.setSize(this._w,this._h)},Object.defineProperty(i.prototype,"ltBorder",{get:function(){return this._lightBorder},enumerable:!0,configurable:!0}),i.prototype.setRbBorder=function(t){void 0===t&&(t=0),this._darkBorder=t,this.setSize(this._w,this._h)},Object.defineProperty(i.prototype,"rbBorder",{get:function(){return this._darkBorder},enumerable:!0,configurable:!0}),i.prototype.setIsPassword=function(t){this._textField.displayAsPassword=t},Object.defineProperty(i.prototype,"isPassword",{get:function(){return this._textField.displayAsPassword},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textID",{get:function(){return this._textID},enumerable:!0,configurable:!0}),i.prototype.setTextID=function(t){this._textID=t},i.prototype.setWidth=function(t){this._w=t,this._textField.width=t>this._maxWidth?this._maxWidth:t},i.prototype.setHeight=function(t){this._h=t,this._textField.height=t,this._textField.$setHeight(t)},i.prototype.setTextAlign=function(t){switch(t){case i.LEFT:this._textField.textAlign=egret.HorizontalAlign.LEFT;break;case i.CENTER:this._textField.textAlign=egret.HorizontalAlign.CENTER;break;case i.RIGHT:this._textField.textAlign=egret.HorizontalAlign.RIGHT}},i.prototype.setSize=function(t,e){void 0===e&&(e=0);var s=!1;this._w=t,this._h=e,this.graphics.clear(),-1!=this._bgColor&&(this.graphics.beginFill(this._bgColor),s=!0),-1!=this._lightBorder?(-1==this._darkBorder&&(this._darkBorder=this._lightBorder),this.graphics.lineStyle(1,this._lightBorder),this.graphics.lineTo(this._w,0),this.graphics.lineStyle(1,this._darkBorder),this.graphics.lineTo(this._w,this._h),this.graphics.lineTo(0,this._h),this.graphics.lineStyle(1,this._lightBorder),this.graphics.lineTo(0,0),this.graphics.endFill(),s=!0):-1!=this._bgColor&&(this.graphics.drawRect(0,0,this._w,this._h),this.graphics.endFill(),s=!0),s?(this._textField.x=this._textField.y=i.AUTO_PADDING,this._textField.height=e-2*i.AUTO_PADDING,this._textField.width=t-2*i.AUTO_PADDING):(this._textField.height=e,this._textField.width=t)},i.prototype.autoGrow=function(){null!=this._textField&&(this._w=0==this._maxWidth||0==this._textField.multiline?this._textField.textWidth+6:this._maxWidth,this._h=this._textField.textHeight+10,this.setSize(this._w,this._h))},i.prototype.setWrapFlg=function(t){void 0===t&&(t=0);var e;1==t?e=!0:0==t&&(e=!1),this._textField.multiline=e,e&&(this._textField.verticalAlign=egret.VerticalAlign.TOP)},Object.defineProperty(i.prototype,"wrapFlg",{get:function(){return 1==this._textField.multiline?1:0},enumerable:!0,configurable:!0}),i.prototype.lockTo=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=0),this._w=t.width-2*i,e&&(this._h=t.height-2*i),this.x=t.x+i,this.y=t.y+i},i.prototype.setFontSize=function(t){void 0===t&&(t=0),this._textField.size=t},Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._textField.size},enumerable:!0,configurable:!0}),i.prototype.setFontBold=function(t){this._textField.bold=t},Object.defineProperty(i.prototype,"fontBold",{get:function(){return this._textField.bold},enumerable:!0,configurable:!0}),i.prototype.setType=function(t){void 0===t&&(t=0),1==t?this._textField.type=egret.TextFieldType.INPUT:this._textField.type=egret.TextFieldType.DYNAMIC},Object.defineProperty(i.prototype,"type",{get:function(){return this._textField.type==egret.TextFieldType.INPUT?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textWidth",{get:function(){return this._textField.textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this._textField.textHeight},enumerable:!0,configurable:!0}),i.prototype.setTextColor=function(t){void 0===t&&(t=0),this._textField.textColor=t},Object.defineProperty(i.prototype,"textColor",{get:function(){return this._textField.textColor},set:function(t){this._textField.textColor=t},enumerable:!0,configurable:!0}),i.prototype.clear=function(){},i.prototype.dispose=function(){this._textField&&(this._textField.parent&&this._textField.parent.removeChild(this._textField),this._textField=null)},i.LEFT=0,i.CENTER=1,i.RIGHT=2,i.TOP=0,i.MIDDLE=1,i.BOTTOM=2,i.AUTO_PADDING=3,i}(t.D5Component);t.D5Text=e,__reflect(e.prototype,"d5power.D5Text",["d5power.IProBindingSupport"])}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._maxWidth=0,e._usedWidth=0,e._usedHeight=0,e._paddingx=5,e._paddingy=5,e._align=0,e._zerox=0,e}return __extends(e,t),e.prototype.setMode=function(t){this._align=t,this.redraw()},e.prototype.setX=function(t){this._zerox=this.x},e.prototype.setPaddingx=function(t){void 0===t&&(t=0),this._paddingx=t,this.redraw()},e.prototype.setPaddingy=function(t){void 0===t&&(t=0),this._paddingy=t,this.redraw()},e.prototype.getPaddingx=function(){return this._paddingx},e.prototype.getPaddingy=function(){return this._paddingy},e.prototype.setMaxWidth=function(t){void 0===t&&(t=0),this._maxWidth=t,this.redraw()},Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),e.prototype.parseToXML=function(){var t="<D5FlyBox name='"+this.name+"' x='"+this.x+"' y='"+this.y+"' maxWidth='"+this._maxWidth+"'/>\n";return t},e.prototype.setEditorMode=function(){null==this._editorBG&&(this._editorBG=new egret.Shape,this.addChild(this._editorBG),this.updateEditorBG())},e.prototype.addChild=function(e){var i=t.prototype.addChild.call(this,e);return i.addEventListener(egret.Event.RESIZE,this.redraw,this),this.redraw(),i},e.prototype.removeChild=function(e){var i=t.prototype.removeChild.call(this,e);return i.removeEventListener(egret.Event.RESIZE,this.redraw,this),this.redraw(),i},e.prototype.redraw=function(t){void 0===t&&(t=null),this._usedWidth=0,this._usedHeight=0;for(var e,i=0,s=0,r=this.numChildren;r>s;s++)e=this.getChildAt(s),this._usedWidth+this._paddingx+e.width>this._maxWidth&&(this._usedHeight+=i+this._paddingy,i=0,this._usedWidth=0),e.x=this._usedWidth,e.y=this._usedHeight,i=i<e.height?e.height:i,this._usedWidth+=e.width+this._paddingx;this.setSize(this._maxWidth,this._usedHeight+i),null!=this._editorBG&&this.updateEditorBG(),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},e.prototype.updateEditorBG=function(){this._editorBG.graphics.clear(),this._editorBG.graphics.lineStyle(1,0),this._editorBG.graphics.beginFill(16777215,.5),this._editorBG.graphics.drawRect(0,0,this._maxWidth,this._usedHeight<20?20:this._usedHeight),this._editorBG.graphics.endFill()},e.LEFT=0,e.CENTER=1,e}(t.D5Component);t.D5FlyBox=e,__reflect(e.prototype,"d5power.D5FlyBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._showNum=!1,t}return __extends(i,e),i.prototype.onComplate=function(t){null==this._logo&&(this._logo=new egret.Bitmap),this._logo.texture=t,this.addChildAt(this._logo,0),this.invalidate()},i.prototype.setLogo=function(t){null==this.spr&&(this.spr=new egret.Sprite,this.addChild(this.spr));for(var e=0;e<this.spr.numChildren;e++){var i=this.spr.getChildAt(e);i.parent&&i.parent.removeChild(i),i=null}""!=t&&(this._url=t,this.loadResource(this._url,this.onComplate,this))},i.prototype.removeLogo=function(){this._logo&&this.contains(this._logo)&&this.removeChild(this._logo)},i.prototype.draw=function(){this._logo&&(this._logo.scaleX=this._w/this._logo.width,this._logo.scaleY=this._h/this._logo.height,this._logo.fillMode=egret.BitmapFillMode.REPEAT),e.prototype.draw.call(this)},i.prototype.over=function(t){this.loadResource(this._url,this.onComplate,this)},Object.defineProperty(i.prototype,"url",{set:function(t){this._url=t},enumerable:!0,configurable:!0}),i.prototype.showNum=function(t){this._showNum=t,!this._showNum&&null!=this.numShower&&this.contains(this.numShower)?(this.removeChild(this.numShower),this.numShower=null):this._showNum&&null==this.numShower&&this.buildNumShower()},i.prototype.buildNumShower=function(){null==this.numShower&&(this.numShower=new t.D5Text("0",13945973),this.numShower.setFontBorder(0),this.numShower.setTextAlign(t.D5Text.RIGHT),this.numShower.setSize(50,18)),this.numShower.x=this._w-this.numShower.width,this.numShower.y=this._h-this.numShower.height,this.addChild(this.numShower)},i.prototype.setNum=function(t){this._itemNum=t,null!=this.numShower&&this.numShower.setText(t.toString())},Object.defineProperty(i.prototype,"num",{get:function(){return this._itemNum},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),i.prototype.setId=function(t){this._id=t},i.prototype.dispose=function(){this.spr&&(this.spr.parent&&this.spr.parent.removeChild(this.spr),this.spr=null),this._logo&&(this._logo.parent&&this._logo.parent.removeChild(this._logo),this._logo.texture=null,this._logo=null),this.numShower&&(this.numShower.parent&&this.numShower.parent.removeChild(this.numShower),this.numShower.dispose(),this.numShower=null)},i._resourceLib={},i}(t.D5MirrorBox);t.D5ImageBox=e,__reflect(e.prototype,"d5power.D5ImageBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._align=0,i._keepLength=0,i._nowValue=0,i._targetValue=0,i._lastrender=0,i._box=new t.D5HBox,i._displayer=[],i.addChild(i._box),i}return __extends(i,e),i.getBitmap=function(){return i._pool.length?i._pool.pop():new egret.Bitmap},i.back2Pool=function(t){t.texture=null,t.parent&&t.parent.removeChild(t),-1==i._pool.indexOf(t)&&i._pool.push(t)},i.prototype.setAlign=function(t){this._align=t},i.prototype.keepLength=function(t){this._keepLength=t},Object.defineProperty(i.prototype,"autoGrow",{set:function(t){this._autoAdd=t},enumerable:!0,configurable:!0}),i.prototype.setSkin=function(e){return this._nowName!=e?(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data?void trace("[D5Button]No Resource"+e):void 0):void 0},i.prototype.setValue=function(t){var e=t+"";e.length;this._targetValue=parseInt(t),this.cacheAsBitmap=!1,this._autoAdd?this._targetValue!=this._nowValue&&this.addEventListener(egret.Event.ENTER_FRAME,this.autoAddRender,this):this.drawNumber(e)},i.prototype.drawNumber=function(e){var s,r,h=e.length;if(h>0&&this._displayer.length!=e.length&&0==this._keepLength){var o;if(h>this._displayer.length)for(o=this._displayer.length;h>o;o++)r=i.getBitmap(),this._displayer.push(r),this._box.addChild(r);else for(;this._displayer.length<=h;)r=this._displayer.pop(),i.back2Pool(r);var n=this.data.getResource(0).textureWidth;switch(this._w=h*n,this._align){case t.D5Text.CENTER:this._box.x=-this._w>>1;break;case t.D5Text.RIGHT:this._box.x=-this._w-n}}for(var o=0;h>o;o++)s=e.substr(o,1),r=this._displayer[o],r.texture=this.data.getResource(parseInt(s))},i.prototype.setPadding=function(t){this._box.setPadding(t)},i.prototype.dispose=function(){this.data=null,this._box&&(this._box.parent&&this._box.parent.removeChild(this._box),this._box.dispose(),this._box=null)},i.prototype.autoAddRender=function(t){var e=egret.getTimer();if(!(e-this._lastrender<30)){this._lastrender=e;var i=this._nowValue;this._nowValue+=(this._targetValue-this._nowValue)/5,Math.ceil(this._nowValue)==this._targetValue&&(this._nowValue=this._targetValue,this.removeEventListener(egret.Event.ENTER_FRAME,this.autoAddRender,this),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),this.autoCache()),parseInt(this._nowValue)!=parseInt(i)&&this.drawNumber(Math.floor(this._nowValue)+"")}},i._pool=[],i}(t.D5Component);t.D5BitmapNumber=e,__reflect(e.prototype,"d5power.D5BitmapNumber")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.type=4,t._iconAutoFly=!1,t}return __extends(i,e),i.prototype.showIcon=function(t){this._icon&&(this._icon.visible=t)},Object.defineProperty(i.prototype,"iconDisplay",{get:function(){return null==this._icon?!1:this._icon.visible},enumerable:!0,configurable:!0}),i.prototype.setIcon=function(e,i,s){void 0===i&&(i=0),void 0===s&&(s=0),""!=e&&(this._icon||(this._icon=new t.D5Bitmap),this._icon.setSkin(e),this._icon.x=i,this._icon.y=s,0==this._icon.x&&0==this._icon.y&&(this._iconAutoFly=!0),0!=this._w&&this.flyIcon())},i.prototype.flyIcon=function(){this._icon&&(this.contains(this._icon)?this.setChildIndex(this._icon,this.numChildren-1):this.addChild(this._icon),this._lable&&this.contains(this._lable)&&this.contains(this._icon)&&this._iconAutoFly?(this._icon.x=this.a.width-this._icon.width-this._lable.width>>1,this._lable.x=this._icon.x+this._icon.height):(0==this._icon.x&&(this._icon.x=this._w-this._icon.width>>1),0==this._icon.y&&(this._icon.y=this._h-this._icon.height>>1)))},i.prototype.setLable=function(e){null==this._lable&&(this._lable=new t.D5Text,this._lable.setFontSize(t.D5Style.default_btn_lable_size),this._lable.setFontBold(t.D5Style.default_btn_lable_bold),-1!=t.D5Style.default_btn_lable_border&&this._lable.setFontBorder(t.D5Style.default_btn_lable_border),this.addChild(this._lable)),this._lable.setText(e),this._lable.autoGrow(),this.autoLableSize()},i.prototype.autoLableSize=function(){null!=this._lable&&null!=this.a&&(this._lable.x=Math.abs(this.a.width-this._lable.width)/2,this._lable.y=Math.abs(this.a.height-this._lable.height)/2)},i.prototype.enabled=function(t){this.touchEnabled=t,t?null==this._sheet?this.a.texture=this.data.getResource(0):this.a.texture=this._sheet.getTexture("0"):2==this.type?null==this._sheet?this.a.texture=this.data.getResource(0):this.a.texture=this._sheet.getTexture("0"):null==this._sheet?this.a.texture=this.data.getResource(3):this.a.texture=this._sheet.getTexture("3"),this.invalidate()},i.prototype.setRes=function(t){this.onComplate(t)},i.prototype.onComplate=function(t){this._sheet=new egret.SpriteSheet(t),(this.type=4)?(this._sheet.createTexture("0",0,0,t.textureWidth/4,t.textureHeight),this._sheet.createTexture("1",t.textureWidth/4,0,t.textureWidth/4,t.textureHeight),this._sheet.createTexture("2",t.textureWidth/2,0,t.textureWidth/4,t.textureHeight),this._sheet.createTexture("3",3*t.textureWidth/4,0,t.textureWidth/4,t.textureHeight)):(this._sheet.createTexture("0",0,0,t.textureWidth/2,t.textureHeight),this._sheet.createTexture("1",t.textureWidth/2,0,t.textureWidth/2,t.textureHeight)),this.drawButton(),this.invalidate()},i.prototype.drawButton=function(){null==this.a&&(this.a=new egret.Bitmap),this.a.texture=this._sheet?this._sheet.getTexture("0"):this.data.getResource(0),this._w=this.a.width,this._h=this.a.height,this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnClick,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.btnOutSide,this),this._icon&&this.flyIcon()},i.prototype.setSkin=function(e){if(this._nowName!=e){if(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data)return trace("[D5Button]No Resource"+e),void this.loadResource(e,this.onComplate,this);this.type=this.data.buttonType,this.drawButton(),this.invalidate()}},i.prototype.setSound=function(t){t=t.replace("resource/",""),this.sound=t},i.prototype.btnDown=function(t){2==this.type?null==this._sheet?this.a.texture=this.data.getResource(1):this.a.texture=this._sheet.getTexture("1"):null==this._sheet?this.a.texture=this.data.getResource(1):this.a.texture=this._sheet.getTexture("1"),this.invalidate()},i.prototype.btnUp=function(t){null==this._sheet?this.a.texture=this.data.getResource(0):this.a.texture=this._sheet.getTexture("0"),this.invalidate()},i.prototype.btnOutSide=function(t){null==this._sheet?this.a.texture=this.data.getResource(0):this.a.texture=this._sheet.getTexture("0"),this.invalidate()},i.prototype.btnClick=function(t){var e=RES.getRes(this.sound);e&&e.play(),null!=this._callback2&&this.enabled&&this._callback2(t),this.invalidate()},i.prototype.draw=function(){null!=this.a&&(this.contains(this.a)||this.addChildAt(this.a,0),e.prototype.draw.call(this),null!=this._lable&&(this.addChild(this._lable),this.autoLableSize()))},i.prototype.setCallback=function(t){this._callback2=t},i.prototype.dispose=function(){this.data=null,this._callback2&&(this._callback2=null),this.a&&(this.a.parent&&this.a.parent.removeChild(this.a),this.a.texture=null,this.a=null),this._icon&&(this._icon.parent&&this._icon.parent.removeChild(this._icon),this._icon.dispose(),this._icon=null),this._lable&&(this._lable.parent&&this._lable.parent.removeChild(this._lable),this._lable.dispose(),this._lable=null),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnClick,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.btnOutSide,this)
},i}(t.D5Component);t.D5Button=e,__reflect(e.prototype,"d5power.D5Button")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._mode=0,e._color=0,e.alpha=.8,e.setSize(60,60),e}return __extends(e,t),e.prototype.setMode=function(t){this._mode=t},e.prototype.setColor=function(t){this._color=t},e.prototype.setAlpha=function(t){this.alpha=t},Object.defineProperty(e.prototype,"cding",{get:function(){return this._cding},enumerable:!0,configurable:!0}),e.prototype.setSize=function(e,i){t.prototype.setSize.call(this,e,i),this._progressMax=2*(e+i),this._startX=e>>1,this._startY=i>>1,this._drawPath=[[e>>1,0,0],[e,0,e>>1],[e,i,(e>>1)+i],[0,i,(e>>1)+i+e],[0,0,(e>>1)+i+i+e],[e>>1,0,2*(e+i)]]},e.prototype.startCD=function(t){this._cd=1e3*t,this._cding=!0,this._startTime=egret.getTimer(),this._progressLen=0,2>t?this._renderSpeed=20:6>t?this._renderSpeed=40:10>t?this._renderSpeed=100:30>t?this._renderSpeed=150:120>t?this._renderSpeed=200:this._renderSpeed=800,this.graphics.clear(),this.graphics.beginFill(this._color,this.alpha),this.graphics.drawRect(0,0,this.width,this.height),this.addEventListener(egret.Event.ENTER_FRAME,this.render,this)},e.prototype.render=function(t){void 0===t&&(t=null),this._mode==e.CIRCLE?this.renderCircle():this.renderRect()},e.prototype.renderCircle=function(t){void 0===t&&(t=null);var e=egret.getTimer(),i=e-this._lastRender;if(!(i<this._renderSpeed)){if(i=e-this._startTime,i>=this._cd)return this.removeEventListener(egret.Event.ENTER_FRAME,this.render,this),this._cding=!1,void this.graphics.clear();this._progressLen=360*i/this._cd,this.graphics.clear(),this.graphics.beginFill(this._color,this.alpha),this.graphics.moveTo(this._startX,this._startY);for(var s,r=0;r<this._progressLen;r+=5)s=r*Math.PI/180,this.graphics.lineTo(this._startX+this._startX*Math.sin(s),this._startY-this._startY*Math.cos(s));this.graphics.lineTo(this._startX,this._startY),this.graphics.endFill(),this._lastRender=e}},e.prototype.renderRect=function(t){void 0===t&&(t=null);var e=egret.getTimer(),i=e-this._lastRender;if(!(i<this._renderSpeed)){if(i=e-this._startTime,i>=this._cd)return this.removeEventListener(egret.Event.ENTER_FRAME,this.render,this),this._cding=!1,void this.graphics.clear();this._progressLen=this._progressMax*(i/this._cd),this.graphics.clear(),16777215==this._color&&(this.graphics.beginFill(0,.1),this.graphics.drawRect(0,0,this.width,this.height),this.graphics.endFill()),this.graphics.beginFill(this._color,this.alpha),this.graphics.moveTo(this._startX,this._startY);for(var s=-1,r=-1,h=0;6>h;h++)if(!(4>h&&this._progressLen>this._drawPath[h+1][2]))if(-1==s){switch(h){case 0:s=this._drawPath[h][0]+this._progressLen,r=this._drawPath[h][1];break;case 1:s=this._drawPath[h][0],r=this._drawPath[h][1]+this._progressLen-this._drawPath[h][2];break;case 2:s=this._drawPath[h][0]-this._progressLen+this._drawPath[h][2],r=this._drawPath[h][1];break;case 3:s=this._drawPath[h][0],r=this._drawPath[h][1]-this._progressLen+this._drawPath[h][2];break;case 4:s=this._drawPath[h][0]+this._progressLen-this._drawPath[h][2],r=this._drawPath[h][1]}this.graphics.lineTo(s,r)}else this.graphics.lineTo(this._drawPath[h][0],this._drawPath[h][1]);this.graphics.lineTo(this._startX,this._startY),this.graphics.endFill(),this._lastRender=e}},e.CIRCLE=0,e.RECT=1,e}(t.D5Component);t.D5CDdisplayer=e,__reflect(e.prototype,"d5power.D5CDdisplayer")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(t){void 0===t&&(t=0);var i=e.call(this)||this;return i._itemNum=0,i._bgShapeFlg=0,i._w=t,i._hasDefaultSelected=!0,i.items=[],i.addEventListener(egret.TouchEvent.TOUCH_TAP,i._onItemClick,i),i}return __extends(i,e),i.prototype.unsetup=function(t){void 0===t&&(t=null),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._onItemClick,this);for(var e=this.items.length,i=0;e>i;i++){var s=this.items[i];s.parent&&s.parent.removeChild(s),s=null}},i.prototype.setItemNum=function(t){void 0===t&&(t=0),this._itemNum=t},Object.defineProperty(i.prototype,"itemNum",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hasDefaultSelected",{get:function(){return this._hasDefaultSelected},enumerable:!0,configurable:!0}),i.prototype.setHasDefaultSelected=function(t){this._hasDefaultSelected=t},i.prototype.addItem=function(t){return null==t?void trace("[D5ButtonGroup] 按钮组只能添加按钮对象"):(this.addChild(t),void(-1==this.items.indexOf(t)&&this.items.push(t)))},i.prototype.addChild=function(i){return i instanceof t.D5Button?(-1==this.items.indexOf(i)&&this.items.push(i),e.prototype.addChild.call(this,i)):(trace("[D5ButtonGroup] 按钮组只能添加按钮对象"),null)},i.prototype.removeItem=function(t){this.removeChild(t),t.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._onItemClick,this)},i.prototype._onItemClick=function(t){var e=t.target;e!=this._lastSelectedItem&&(this._lastSelectedItem=e,this.dispatchEvent(new egret.Event(egret.Event.CHANGE)))},i.prototype.getSelectedID=function(){return this.items.indexOf(this._lastSelectedItem)},i.prototype.setEditorMode=function(){this.createBgShape()},i.prototype.createBgShape=function(t,e){void 0===t&&(t=500),void 0===e&&(e=60),this.graphics.beginFill(4079166),this.graphics.drawRect(0,0,t,e),this.graphics.endFill(),this._bgShapeFlg=1},i.prototype.clearVirtualBackground=function(){this.graphics.clear(),this._bgShapeFlg=0},Object.defineProperty(i.prototype,"bgShapeFlg",{get:function(){return this._bgShapeFlg},set:function(t){this._bgShapeFlg=t},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.unsetup()},i}(t.D5FlyBox);t.D5ButtonGroup=e,__reflect(e.prototype,"d5power.D5ButtonGroup")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._padding=5,e.autoFly=!0,e}return __extends(e,t),e.prototype.setEditorMode=function(){null==this._editorBG&&(this._editorBG=new egret.Shape,this._editorBG.graphics.clear(),this._editorBG.graphics.lineStyle(1,0),this._editorBG.graphics.beginFill(16750848,.5),this._editorBG.graphics.drawRect(0,0,60,20),this._editorBG.graphics.endFill(),this.addChild(this._editorBG))},e.prototype.parseToXML=function(){var t="<D5HBox name='"+this.name+"' x='"+this.x+"' y='"+this.y+"'/>\n";return t},e.prototype.addChildAt=function(e,i){return void 0===i&&(i=0),t.prototype.addChildAt.call(this,e,i),e.addEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),e},e.prototype.addChild=function(e){return t.prototype.addChild.call(this,e),e.addEventListener(egret.Event.RESIZE,this.onResize,this),this.autoFly&&this.invalidate(),e},e.prototype.removeChild=function(e){return t.prototype.removeChild.call(this,e),e.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.autoFly&&this.invalidate(),e},e.prototype.removeChildAt=function(e){void 0===e&&(e=0);var i=t.prototype.removeChildAt.call(this,e);return i.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.autoFly&&this.invalidate(),i},e.prototype.onResize=function(t){this.autoFly&&this.invalidate()},e.prototype.draw=function(){this._w=0,this._h=0;for(var t=0,e=0;e<this.numChildren;e++){var i=this.getChildAt(e);i.x=t,t+=i.width,t+=this._padding,this._w+=i.width,this._h=Math.max(this._h,i.height)}this._w+=this._padding*(this.numChildren-1),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},e.prototype.setPadding=function(t){this._padding=t,this.invalidate()},Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},enumerable:!0,configurable:!0}),e}(t.D5Component);t.D5HBox=e,__reflect(e.prototype,"d5power.D5HBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._blockW=0,t._blockH=0,t._textColor=0,t._hoverColor=0,t._fontSize=0,t.setupListener(),t}return __extends(i,e),Object.defineProperty(i.prototype,"className",{get:function(){return"D5List"},enumerable:!0,configurable:!0}),i.prototype.drawBackground=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0),this.graphics.beginFill(t,e),this.graphics.lineStyle(1,i),this.graphics.drawRect(0,0,this._blockW,this.height),this.graphics.endFill()},i.prototype.setFormat=function(t,e,i,s,r,h){void 0===r&&(r=1),void 0===h&&(h=12),this._blockW=t,this._blockH=e,this._textColor=i,this._hoverColor=s,this._hoverAlpha=r,this._fontSize=h,this.flushFormat()},i.prototype.setblockW=function(t){void 0===t&&(t=0),this._blockW=t,this.flushFormat()},i.prototype.dispose=function(){this.parent&&this.parent.removeChild(this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAdd,this)},i.prototype.addStuff=function(e,i){var s;e instanceof egret.DisplayObjectContainer?(s=e,s.name=i.toString()):("string"!=typeof e&&(e=e.toString()),s=new t.D5HoverText(e,16777215),this._blockW>0?this.flushFormatDoing(s):(s.setHover(this._hoverColor,this._hoverAlpha),s.autoGrow()),s.setData(i)),this._list.push(s),this._content.addChild(s)},i.prototype.removeStuffByIndex=function(t){if(void 0===t&&(t=0),!(t>=this._list.length)){var e=this._list[t];this._content.contains(e)&&this._content.removeChild(e),this._list.splice(t,1)}},i.prototype.removeAllStuff=function(){for(;this._list.length;)this.removeStuffByIndex(0);this._selected=null},Object.defineProperty(i.prototype,"height",{get:function(){var t=this._content.padding;return this._list.length>0?this._list.length*(this._list[0].height+t)-t+2*this._content.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return null==this._selected?null:this._selected instanceof t.D5HoverText?this._selected.data:this._selected.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lable",{get:function(){return null==this._selected?"":this._selected instanceof t.D5HoverText?this._selected.text:this._selected.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this._list.indexOf(this._selected)},enumerable:!0,configurable:!0}),i.prototype.setupListener=function(){this._list=[],this._content=new t.D5VBox,this._content.x=this._content.y=4,this.addChild(this._content),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},i.prototype.onMove=function(e){var i=this.getUnderMouse(e.stageX,e.stageY);null!=i&&i instanceof t.D5HoverText&&(i.isHover||i==this._selected||(this._selected&&this._selected instanceof t.D5HoverText&&this._selected.unhover(),i.hover(),this._selected=i))},i.prototype.onClick=function(e){var i=this.getUnderMouse(e.stageX,e.stageY);i&&(this._selected=i,this.dispatchEvent(new egret.Event(egret.Event.CHANGE))),t.D5HoverText.lastHover&&(t.D5HoverText.lastHover.unhover(),t.D5HoverText.lastHover=null)},i.prototype.onAdd=function(t){this._stage=this.stage},i.prototype.onStageClick=function(t){if(this.parent&&this.stage){if(t.target==this)return;this.parent.removeChild(this),this.stage&&this.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onStageClick,this)}},i.prototype.getUnderMouse=function(t,e){void 0===e&&(e=0);for(var i=this._list.length,s=0;i>s;s++){var r=this._list[s];if(r.hitTestPoint(t,e))return r}return null},i.prototype.flushFormat=function(){for(var t=this._list.length,e=0;t>e;e++){var i=this._list[e];this.flushFormatDoing(i)}},i.prototype.flushFormatDoing=function(t){t.setSize(this._blockW-2*this._content.x,this._blockH),t.setTextColor(this._textColor),t.setHover(this._hoverColor,this._hoverAlpha),t.setFontSize(this._fontSize)},i}(t.D5Component);t.D5List=e,__reflect(e.prototype,"d5power.D5List")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(t,i,s){var r=e.call(this)||this;return r._workmode=t,r._cutsize1=i,r._cutsize2=s,r}return __extends(i,e),i.prototype.buildPart=function(){null==this._partI&&(this._partI=new egret.Bitmap),null==this._partII&&(this._partII=new egret.Bitmap,this._partII.fillMode=egret.BitmapFillMode.REPEAT),null==this._partIII&&(this._partIII=new egret.Bitmap)},i.prototype.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);null==i?(trace("[D5Loop]No Resource"+e),this.loadResource(e,this.onComplate,this)):(this.buildPart(),this._partI.texture=i.getResource(0),this._partII.texture=i.getResource(1),this._partIII.texture=i.getResource(2),this.invalidate())}},i.prototype.onComplate=function(t){var e=new egret.SpriteSheet(t);0==this._workmode?(e.createTexture("0",0,0,this._cutsize1,t.textureHeight),e.createTexture("1",this._cutsize1,0,this._cutsize2-this._cutsize1,t.textureHeight),e.createTexture("2",this._cutsize2,0,t.textureWidth-this._cutsize1,t.textureHeight)):(e.createTexture("0",0,0,t.textureWidth,this._cutsize1),e.createTexture("1",0,this._cutsize1,t.textureWidth,this._cutsize2-this._cutsize1),e.createTexture("2",0,this._cutsize2,t.textureWidth,t.textureHeight-this._cutsize1)),this.buildPart(),this._partI.texture=e.getTexture("0"),this._partII.texture=e.getTexture("1"),this._partIII.texture=e.getTexture("2"),this.invalidate()},i.prototype.draw=function(){null!=this._partI&&(this.contains(this._partI)||(this.addChildAt(this._partI,0),this.addChildAt(this._partII,0),this.addChildAt(this._partIII,0)),0==this._workmode?(this._partII.x=this._partI.width,this._partII.width=this._w-this._partI.width-this._partIII.width,this._partIII.x=this._partII.x+this._partII.width):(this._partII.y=this._partI.height,this._partII.height=this._h-this._partI.height-this._partIII.height,this._partIII.y=this._partII.y+this._partII.height),e.prototype.draw.call(this))},i}(t.D5Component);t.D5Loop=e,__reflect(e.prototype,"d5power.D5Loop")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.setBtnID=function(t){this._id=t},Object.defineProperty(i.prototype,"btnID",{get:function(){return this._id},enumerable:!0,configurable:!0}),i.prototype.showCell=function(e,i){this.touchEnabled=!0,this.loop=new t.D5MirrorLoop,this.loop.setSkin("loop0"),this.loop.setSize(e,0),this.addChild(this.loop),this.text=new t.D5Text,this.text.setWidth(e),this.text.setFontSize(5),this.text.setTextColor(16711680),this.text.setText(i),this.addChild(this.text)},i.prototype.dispose=function(){this.text.parent&&this.text.parent.removeChild(this.text),this.text=null,this.loop.parent&&this.loop.parent.removeChild(this.loop),this.loop=null},i}(egret.Sprite);t.ListCell=e,__reflect(e.prototype,"d5power.ListCell")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._mode=0,t._cutSize=0,t}return __extends(i,e),i.prototype.setRes=function(t){this.onComplate(t)},i.prototype.onComplate=function(t){var e=new egret.SpriteSheet(t);0==this._mode?(e.createTexture("0",0,0,this._cutSize,t.textureHeight),e.createTexture("1",this._cutSize,0,t.textureWidth-this._cutSize,t.textureHeight),null==this.front&&(this.front=new egret.Bitmap),this.front.texture=e.getTexture("0"),null==this.enter&&(this.enter=new egret.Bitmap),this.enter.texture=e.getTexture("1"),this.enter.fillMode=egret.BitmapFillMode.REPEAT,null==this.after&&(this.after=new egret.Bitmap),this.after.texture=e.getTexture("0"),this.after.scaleX=-1):(e.createTexture("0",0,0,t.textureWidth,this._cutSize),e.createTexture("1",0,this._cutSize,t.textureWidth,t.textureHeight-this._cutSize),null==this.front&&(this.front=new egret.Bitmap),this.front.texture=e.getTexture("0"),null==this.enter&&(this.enter=new egret.Bitmap),this.enter.texture=e.getTexture("1"),this.enter.fillMode=egret.BitmapFillMode.REPEAT,null==this.after&&(this.after=new egret.Bitmap),this.after.texture=e.getTexture("0"),this.after.scaleY=-1),this.invalidate()},i.prototype.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i)return trace("[D5MirrorLoop]No Resource"+e),void this.loadResource(e,this.onComplate,this);0==t.D5UIResourceData._typeLoop?(this._mode=0,null==this.front&&(this.front=new egret.Bitmap),this.front.texture=i.getResource(0),null==this.enter&&(this.enter=new egret.Bitmap),this.enter.texture=i.getResource(1),this.enter.fillMode=egret.BitmapFillMode.REPEAT,null==this.after&&(this.after=new egret.Bitmap),this.after.texture=i.getResource(0),this.after.scaleX=-1):(this._mode=1,null==this.front&&(this.front=new egret.Bitmap),this.front.texture=i.getResource(0),null==this.enter&&(this.enter=new egret.Bitmap),this.enter.texture=i.getResource(1),this.enter.fillMode=egret.BitmapFillMode.REPEAT,null==this.after&&(this.after=new egret.Bitmap),this.after.texture=i.getResource(0),this.after.scaleY=-1),this.invalidate()}},i.prototype.draw=function(){null!=this.front&&(this.contains(this.front)||(this.addChildAt(this.front,0),this.addChildAt(this.enter,0),this.addChildAt(this.after,0)),0==this._mode?(this.enter.x=this.front.width,this.enter.width=this._w-2*this.front.width,this.after.x=this._w):(this.enter.y=this.front.height,this.enter.height=this._h-2*this.front.height,this.after.y=this._h),this.autoCache(),e.prototype.draw.call(this))},i.prototype.clone=function(){var t=new i;return t._mode=this._mode,t._cutSize=this._cutSize,t.setSkin(this._nowName),t.setSize(this.width,this.height),t},Object.defineProperty(i.prototype,"mBitmap",{get:function(){return this.enter},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.front&&(this.front.parent&&this.front.parent.removeChild(this.front),this.front.texture=null,this.front=null),this.enter&&(this.enter.parent&&this.enter.parent.removeChild(this.enter),this.enter.texture=null,this.enter=null),this.after&&(this.after.parent&&this.after.parent.removeChild(this.after),this.after.texture=null,this.after=null)},i}(t.D5Component);t.D5MirrorLoop=e,__reflect(e.prototype,"d5power.D5MirrorLoop")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._selected=!1,t}return __extends(i,e),i.disposeLib=function(t,e){void 0===e&&(e=null);for(var s,r=i._radioLib.length-1;r>=0;r--)s=i._radioLib[r],(null==e||e===s&&s._groupName==t)&&this._radioLib.splice(r,1)},Object.defineProperty(i.prototype,"groupName",{set:function(t){this._groupName=t,null!=t&&""!=t&&-1==i._radioLib.indexOf(this)&&i._radioLib.push(this)},enumerable:!0,configurable:!0}),i.prototype.setLable=function(e){null==this._lable&&(this._lable=new t.D5Text,this._lable.setFontSize(t.D5Style.default_btn_lable_size),this._lable.setFontBold(t.D5Style.default_btn_lable_bold),-1!=t.D5Style.default_btn_lable_border&&this._lable.setFontBorder(t.D5Style.default_btn_lable_border),this.addChild(this._lable)),this._lable.setText(e)},i.prototype.autoLableSize=function(){null!=this._lable&&null!=this.a&&(trace(this.a.height,this._lable.height,"左左右右"),this._lable.x=this.a.width,this._lable.y=this.a.height-this._lable.height>>1)},i.prototype.setSelected=function(t){if(this._groupName)for(var e=i._radioLib,s=e.length-1;s>=0;s--)e[s]!=this&&e[s]._groupName==this._groupName&&(e[s]._selected=!1,e[s].updateFace());this._selected=t,this.updateFace()},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this.setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.updateFace=function(){this._selected?(this.a.texture=this.data.getResource(2),this.invalidate()):(this.a.texture=this.data.getResource(0),this.invalidate())},i.prototype.enabled=function(t){t?this.a.texture=this.data.getResource(0):this.a.texture=this.data.getResource(3),this.invalidate()},i.prototype.setSkin=function(e){if(this._nowName!=e){if(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data)return void trace("[D5RadioBtn]No Resource"+e);this.a=new egret.Bitmap,this.a.texture=this.data.getResource(0),this.touchEnabled=!0,this.enabled(!0),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.invalidate()}},i.prototype.btnDown=function(t){this.a.texture=this.data.getResource(2),this.invalidate()},i.prototype.btnUp=function(t){this.setSelected(!this._selected)},i.prototype.draw=function(){null==this.a||this.contains(this.a)||this.addChildAt(this.a,0),e.prototype.draw.call(this),null!=this._lable&&(this.addChild(this._lable),this.autoLableSize())},i.prototype.dispose=function(){this.a&&(this.a.parent&&this.a.parent.removeChild(this.a),this.a.texture=null,this.a=null),this._lable&&(this._lable.parent&&this._lable.parent.removeChild(this._lable),this._lable=null),this.data=null,null!=this._groupName&&i.disposeLib(this._groupName)},i._radioLib=[],i}(t.D5Component);t.D5RadioBtn=e,__reflect(e.prototype,"d5power.D5RadioBtn")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._workMode=0,e._tickNess=0,e._offX=0,e._offY=0,e._radius=0,e.drawAlpha=1,e._shape=new egret.Shape,e.addChild(e._shape),e}return __extends(e,t),Object.defineProperty(e.prototype,"pointString",{set:function(t){this._points=t.split(","),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.draw=function(){switch(this._shape&&this._shape.graphics.clear(),this._workMode){case e.RECT:this._shape.graphics.beginFill(this._fillColor,this.drawAlpha),this._tickNess>0&&this._shape.graphics.lineStyle(this._tickNess,this._color,this.drawAlpha),this._shape.graphics.drawRect(this._offX,this._offY,this._w,this._h),this._shape.graphics.endFill();break;case e.CIRCLE:this._shape.graphics.beginFill(this._fillColor,this.drawAlpha),this._tickNess>0&&this._shape.graphics.lineStyle(this._tickNess,this._color,this.drawAlpha),this._shape.graphics.drawCircle(this._offX,this._offY,this._radius),this._shape.graphics.endFill();break;case e.CUSTOM:this._shape.graphics.beginFill(this._fillColor,this.drawAlpha),this._tickNess>0&&this._shape.graphics.lineStyle(this._tickNess,this._color);for(var i,s,r,h=0;h<this._points.length;h++)i=this._points[h].split("_"),s=parseInt(i[0]),r=parseInt(i[1]),0==h?this._shape.graphics.moveTo(s,r):this._shape.graphics.lineTo(s,r);this._shape.graphics.endFill()}t.prototype.draw.call(this)},Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!0,configurable:!0}),e.prototype.setFillColor=function(t){this._fillColor!=t&&(this._fillColor=t,this.invalidate())},Object.defineProperty(e.prototype,"tickNess",{get:function(){return this._tickNess},enumerable:!0,configurable:!0}),e.prototype.setTickNess=function(t){this._tickNess!=t&&(this._tickNess=t,this.invalidate())},Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),e.prototype.setColor=function(t){this._color!=t&&(this._color=t,this.invalidate())},Object.defineProperty(e.prototype,"offX",{get:function(){return this._offX},enumerable:!0,configurable:!0}),e.prototype.setOffX=function(t){this._offX!=t&&(this._offX=t,this.invalidate())},Object.defineProperty(e.prototype,"offY",{get:function(){return this._offY},enumerable:!0,configurable:!0}),e.prototype.setOffY=function(t){this._offY!=t&&(this._offY=t,this.invalidate())},Object.defineProperty(e.prototype,"drawWidth",{get:function(){return this._w},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;return t._workMode=this._workMode,t._fillColor=this._fillColor,t._tickNess=this._tickNess,t._color=this._color,t._offX=this._offX,t._offY=this._offY,t._radius=this._radius,t.setSize(this._w,this._h),t.drawAlpha=this.drawAlpha,t.invalidate(),t},e.prototype.setDrawWidth=function(t){this._w!=t&&(this._w=t,this.invalidate())},Object.defineProperty(e.prototype,"drawHeight",{get:function(){return this._h},enumerable:!0,configurable:!0}),e.prototype.setDrawHeight=function(t){this._h!=t&&(this._h=t,this.invalidate())},e.prototype.setSize=function(t,e){(this._w!=t||this._h!=e)&&(this._w=t,this._h=e,this.invalidate())},Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),e.prototype.setRadius=function(t){this._radius!=t&&(this._radius=t,this.invalidate())},Object.defineProperty(e.prototype,"workMode",{get:function(){return this._workMode},enumerable:!0,configurable:!0}),e.prototype.setWorkMode=function(t){this._workMode!=t&&(this._workMode=t,this.invalidate())},e.prototype.dispose=function(){this._shape&&(this._shape.parent&&this._shape.parent.removeChild(this._shape),this._shape=null)},e.RECT=0,e.CIRCLE=1,e.CUSTOM=2,e}(t.D5Component);t.D5Shape=e,__reflect(e.prototype,"d5power.D5Shape")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._arrCell=[],t._dataArr=[],t}return __extends(i,e),i.prototype.setDataName=function(t){this._dataArr=t},Object.defineProperty(i.prototype,"dataName",{get:function(){return this._dataArr},enumerable:!0,configurable:!0}),i.prototype.setSkin=function(e){if(this._nowName!=e){if(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data)return void trace("No Resource");this.front=new egret.Bitmap,this.front.texture=this.data.getResource(0),this.enter=new egret.Bitmap,this.enter.texture=this.data.getResource(1),this.enter.fillMode=egret.BitmapFillMode.REPEAT,this.after=new egret.Bitmap,this.after.texture=this.data.getResource(0),this.after.scaleX=-1,this.button=new egret.Bitmap,this.button.texture=this.data.getResource(2),this.touchEnabled=this.button.touchEnabled=!0,this.button.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.button.addEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.invalidate()}},i.prototype.setTable=function(e){null==this.text?(this.text=new t.D5Text,this.text.setWidth(this._w-this.button.width),this.text.setTextColor(16711680),this.text.setText(e)):(this.text.setTextColor(16711680),this.text.setText(e))},i.prototype.btnDown=function(e){this.button.texture=this.data.getResource(4),this.invalidate(),null==this.box?(this.box=new t.D5MirrorBox,this.box.setSkin("box0"),this.box.x=0,this.box.y=this.button.height,this.box.setSize(this._w,100),this.addChild(this.box),this.vBox=new t.D5VBox,this.vBox.x=5,this.vBox.y=10):this.box.visible=!this.box.visible,this.box.visible&&this.showList(this._dataArr)},i.prototype.showList=function(e){this.cleanCell();for(var i=0;i<e.length;i++)this.cell=new t.ListCell,this.cell.showCell(this._w,e[i]),this._arrCell.push(this.cell),this.vBox.addChild(this.cell),this.cell.setBtnID(i),this.cell.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.changeName,this);this.box.setSize(this._w,25*this._dataArr.length)},i.prototype.changeName=function(t){this.box.visible=!this.box.visible;var e=t.currentTarget.btnID;this.setTable(this._dataArr[e])},i.prototype.cleanCell=function(){if(null!=this._arrCell&&0!=this._arrCell.length){for(var t=0;t<this._arrCell.length;t++){var e=this._arrCell[t];e.dispose(),e.parent&&e.parent.removeChild(e),e=null}this._arrCell.splice(0,this._arrCell.length)}},i.prototype.btnUp=function(t){this.button.texture=this.data.getResource(2),this.invalidate()},i.prototype.draw=function(){null==this.front||this.contains(this.front)||(this.addChild(this.front),this.addChild(this.enter),this.addChild(this.after),this.addChild(this.button)),this.enter.x=this.front.width,this.enter.width=this._w-2*this.front.width,this.after.x=this._w-this.front.width,this.button.x=this._w-this.button.width,e.prototype.draw.call(this),this.addChild(this.text),this.box.addChild(this.vBox)},i}(t.D5Component);t.D5SliderButton=e,__reflect(e.prototype,"d5power.D5SliderButton")}(d5power||(d5power={}));var d5power;!function(t){var e=function(){function t(){}return t.default_lable_color=16777215,t.default_btn_lable_border=-1,t.default_btn_lable_size=18,t.default_btn_lable_bold=!1,t.autoRelease=!1,t}();t.D5Style=e,__reflect(e.prototype,"d5power.D5Style")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._loadID=0,t._playFrame=0,t._monitor=new egret.Bitmap,t._zoom=1,t}return __extends(i,e),i.prototype.setSrc=function(t){this._src=t,this.addParticle()},Object.defineProperty(i.prototype,"loadID",{get:function(){return this._loadID},enumerable:!0,configurable:!0}),i.prototype.setEditorMode=function(){this._drager||(this._drager=new egret.Shape,this._drager.graphics.beginFill(16777215*Math.random(),.5),this._drager.graphics.drawRect(-20,-20,40,40),this._drager.graphics.endFill()),this.addChild(this._drager)},i.prototype.addParticle=function(){this._loadID++,t.D5SpriteSheet.getInstance(this._src+".png",this)},i.prototype.onSpriteSheepReady=function(t){this._spriteSheet&&this._spriteSheet.unlink(),this._spriteSheet=t,this.contains(this._monitor)||this.addChild(this._monitor),this.onLoadComplate(),this.addEventListener(egret.Event.ENTER_FRAME,this.runAction,this)},i.prototype.runAction=function(t){if(!(egret.getTimer()-this._lastRender<this._spriteSheet.renderTime)){this._lastRender=egret.getTimer();var e=0;this._monitor.texture=this._spriteSheet.getTexture(e,this._playFrame),this._spriteSheet.uvList?(this._monitor.x=this._spriteSheet.uvList[e*this._spriteSheet.totalFrame+this._playFrame].offX,this._monitor.y=this._spriteSheet.uvList[e*this._spriteSheet.totalFrame+this._playFrame].offY):(this._monitor.x=this._spriteSheet.gX,this._monitor.y=this._spriteSheet.gY),this._playFrame++,this._playFrame>=this._spriteSheet.totalFrame&&(this._playFrame=0)}},i.prototype.setZoom=function(t){this._zoom!=t&&(this._zoom=t,this.invalidate())},i.prototype.onLoadComplate=function(){this._drager&&this.addChild(this._drager),this.invalidate(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},i.prototype.draw=function(){1!=this._zoom&&(this.scaleX=this.scaleY=this._zoom),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},i.prototype.dispose=function(){this._monitor&&(this._monitor.parent&&this._monitor.parent.removeChild(this._monitor),this._monitor.texture=null,this._monitor=null),this._spriteSheet=null},i}(t.D5Component);t.D5Swf=e,__reflect(e.prototype,"d5power.D5Swf",["d5power.ISpriteSheetWaiter"])}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i){trace("[D5Bitmap]No Resource"+e);var s=RES.getRes(e);return void(s?(this.bit=new egret.Bitmap,this.bit.texture=s,this.invalidate()):this.setSrc(e))}null==this.bit&&(this.bit=new egret.Bitmap),this.bit.texture=i.getResource(0),this.setSize(this.bit.$getWidth(),this.bit.$getHeight()),this.invalidate()}},i.prototype.setComplete=function(t,e){this._onComplate=t,this._onComplateObj=e},i.prototype.setSrc=function(t){return this._url=t,null==t?void(this.bit.texture=null):void this.loadResource(this._url,this.onComplate,this)},i.prototype.clone=function(){var t=new i;return t.setSize(this._w,this._h),t.setSkin(this._nowName),t},i.prototype.setRes=function(t){this.onComplate(t)},i.prototype.onComplate=function(t){if(null==this.bit&&(this.bit=new egret.Bitmap),this.addChild(this.bit),null==t&&(trace(this.name,"resource hot found =============="),t=i._defaultTexture),this.bit.texture=t,this.setSize(this.bit.$getWidth(),this.bit.$getHeight()),null!=this._onComplate){try{this._onComplate.apply(this._onComplateObj),this._onComplate=null}catch(e){trace(e)}this._onComplate=null,this._onComplateObj=null}},i.prototype.draw=function(){null==this.bit||this.contains(this.bit)||this.addChildAt(this.bit,0),e.prototype.draw.call(this)},i.prototype.dispose=function(){this.bit&&(this.bit.parent&&this.bit.parent.removeChild(this.bit),this.bit.texture=null,this.bit=null)},i._defaultTexture=new egret.Texture,i}(t.D5Component);t.D5Bitmap=e,__reflect(e.prototype,"d5power.D5Bitmap")}(d5power||(d5power={}));
var d5power;!function(t){var e=function(t){function e(e,i,s,r,h){void 0===e&&(e=""),void 0===i&&(i=-1),void 0===s&&(s=-1),void 0===r&&(r=-1),void 0===h&&(h=12);var o=t.call(this,e,i,s,r,h)||this;return o._hoverColor=0,o.touchChildren=!0,o.touchEnabled=!0,o}return __extends(e,t),Object.defineProperty(e.prototype,"className",{get:function(){return"D5HoverText"},enumerable:!0,configurable:!0}),e.prototype.init=function(t){void 0===t&&(t=null),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouse,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onMouse,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this)},e.prototype.onRemove=function(t){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouse,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onMouse,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this)},e.prototype.setHover=function(t,e){this._hover=!0,this._hoverColor=t,this._hoverAlpha=e,this.unhover(),this.hasEventListener(egret.TouchEvent.TOUCH_BEGIN)||(this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouse,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onMouse,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this))},e.prototype.hover=function(){this._hover&&(e.lastHover=this,this.graphics.clear(),this.graphics.beginFill(this._hoverColor,this._hoverAlpha),this.graphics.drawRect(0,0,this._w,this._h),this.graphics.endFill(),this._isHover=!0)},e.prototype.unhover=function(){this._hover&&(this.graphics.clear(),this._isHover=!1)},Object.defineProperty(e.prototype,"isHover",{get:function(){return this._isHover},enumerable:!0,configurable:!0}),e.prototype.onMouse=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.hover();break;case egret.TouchEvent.TOUCH_END:this.unhover()}},e.prototype.setData=function(t){this._data=t},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e}(t.D5Text);t.D5HoverText=e,__reflect(e.prototype,"d5power.D5HoverText")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._realWidth=0,t._realHeight=0,t._flyX=0,t._flyY=0,t}return __extends(i,e),i.prototype.addBinder=function(t){null==this._bindingList&&(this._bindingList=new Array),this._bindingList.push(t)},i.prototype.setup=function(t){this.removeChildren(),RES.getResByUrl(this._uiSrc,this.LoadComplete,this)},i.prototype.LoadComplete=function(e){e&&t.D5Component.getComponentByURL(e,this),this.stage?this.flyPos():this.addEventListener(egret.Event.ADDED_TO_STAGE,this.flyPos,this)},i.prototype.dispose=function(){this.stage.removeEventListener(egret.Event.RESIZE,this.autoFly,this),this.parent&&this.parent.removeChild(this)},i.prototype.flyPos=function(e){void 0===e&&(e=null),null!=e&&this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.flyPos,this),t.D5Component.proBindingSource&&this._bindingList&&(t.D5Component.proBindingSource.addDisplayer(this),this.stage.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.autoDispose,this),this.update()),0!=this._flyX&&0!=this._flyY&&this.stage.addEventListener(egret.Event.RESIZE,this.autoFly,this),this.autoFly()},i.prototype.autoFly=function(t){void 0===t&&(t=null),this.x=1==this._flyX?this.stage.stageWidth-this._realWidth:.5==this._flyX?this.stage.stageWidth-this._realWidth>>1:this.stage.stageWidth*this._flyX,this.y=1==this._flyY?this.stage.stageHeight-this._realHeight:.5==this._flyY?this.stage.stageHeight-this._realHeight>>1:this.stage.stageHeight*this._flyY},i.prototype.autoDispose=function(e){this.stage.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.autoDispose,this),trace("[D5UILoader] ",name," 自动释放"),t.D5Component.proBindingSource&&this._bindingList&&(t.D5Component.proBindingSource.removeDisplayer(this),this._bindingList=null),this.stage.removeEventListener(egret.Event.RESIZE,this.autoFly,this)},i.prototype.update=function(){if(this._bindingList)for(var t,e=0;e<this._bindingList.length;e++)t=this._bindingList[e],t.update()},Object.defineProperty(i.prototype,"width",{get:function(){return this._realWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._realHeight},enumerable:!0,configurable:!0}),i}(egret.Sprite);t.D5UILoader=e,__reflect(e.prototype,"d5power.D5UILoader",["d5power.IUserInfoDisplayer","d5power.IProBindingContainer"])}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._padding=5,e}return __extends(e,t),e.prototype.setEditorMode=function(){null==this._editorBG&&(this._editorBG=new egret.Shape,this._editorBG.graphics.clear(),this._editorBG.graphics.lineStyle(1,0),this._editorBG.graphics.beginFill(65280,.5),this._editorBG.graphics.drawRect(0,0,60,20),this._editorBG.graphics.endFill(),this.addChild(this._editorBG))},e.prototype.parseToXML=function(){var t="<D5VBox name='"+this.name+"' x='"+this.x+"' y='"+this.y+"'/>\n";return t},e.prototype.addChild=function(e){return t.prototype.addChild.call(this,e),e.addEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),e},e.prototype.removeChild=function(e){return t.prototype.removeChild.call(this,e),e.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),e},e.prototype.removeChildAt=function(e){void 0===e&&(e=0);var i=t.prototype.removeChildAt.call(this,e);return i.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),i},e.prototype.onResize=function(t){this.invalidate()},e.prototype.draw=function(){this._w=0,this._h=0;for(var t=0,e=0;e<this.numChildren;e++){var i=this.getChildAt(e);i.y=t,t+=i.height,t+=this._padding,this._h+=i.height,this._w=Math.max(this._w,i.width)}this._h+=this._padding*(this.numChildren-1),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,this.invalidate()},enumerable:!0,configurable:!0}),e}(t.D5Component);t.D5VBox=e,__reflect(e.prototype,"d5power.D5VBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.x1=0,t.y1=0,t.x2=0,t.y2=0,t}return __extends(i,e),i.prototype.setRes=function(t){this.onComplate(t)},i.prototype.onComplate=function(t){var e=new egret.SpriteSheet(t);e.createTexture("0",0,0,this.x1,this.y1),e.createTexture("1",this.x1,0,this.x2-this.x1,this.y1),e.createTexture("2",this.x2,0,t.textureWidth-this.x2,this.y1),e.createTexture("3",0,this.y1,this.x1,this.y2-this.y1),e.createTexture("4",this.x1,this.y1,this.x2-this.x1,this.y2-this.y1),e.createTexture("5",this.x2,this.y1,t.textureWidth-this.x2,this.y2-this.y1),e.createTexture("6",0,this.y2,this.x1,t.textureHeight-this.y2),e.createTexture("7",this.x1,this.y2,this.x2-this.x1,t.textureHeight-this.y2),e.createTexture("8",this.x2,this.y2,t.textureWidth-this.x2,t.textureHeight-this.y2),this.lt=new egret.Bitmap,this.lt.texture=e.getTexture("0"),this.t=new egret.Bitmap,this.t.texture=e.getTexture("1"),this.t.fillMode=egret.BitmapFillMode.REPEAT,this.rt=new egret.Bitmap,this.rt.texture=e.getTexture("2"),this.l=new egret.Bitmap,this.l.texture=e.getTexture("3"),this.l.fillMode=egret.BitmapFillMode.REPEAT,this.m=new egret.Bitmap,this.m.texture=e.getTexture("4"),this.m.fillMode=egret.BitmapFillMode.REPEAT,this.r=new egret.Bitmap,this.r.texture=e.getTexture("5"),this.lb=new egret.Bitmap,this.lb.texture=e.getTexture("6"),this.b=new egret.Bitmap,this.b.texture=e.getTexture("7"),this.b.fillMode=egret.BitmapFillMode.REPEAT,this.rb=new egret.Bitmap,this.rb.texture=e.getTexture("8"),this.invalidate()},i.prototype.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i)return trace("[D5Window]No Resource"+e),void this.loadResource(e,this.onComplate,this);this.lt=new egret.Bitmap,this.lt.texture=i.getResource(0),this.t=new egret.Bitmap,this.t.texture=i.getResource(1),this.t.fillMode=egret.BitmapFillMode.REPEAT,this.rt=new egret.Bitmap,this.rt.texture=i.getResource(2),this.l=new egret.Bitmap,this.l.texture=i.getResource(3),this.l.fillMode=egret.BitmapFillMode.REPEAT,this.m=new egret.Bitmap,this.m.texture=i.getResource(4),this.m.fillMode=egret.BitmapFillMode.REPEAT,this.r=new egret.Bitmap,this.r.texture=i.getResource(5),this.lb=new egret.Bitmap,this.lb.texture=i.getResource(6),this.b=new egret.Bitmap,this.b.texture=i.getResource(7),this.b.fillMode=egret.BitmapFillMode.REPEAT,this.rb=new egret.Bitmap,this.rb.texture=i.getResource(8),this.invalidate()}},i.prototype.draw=function(){null!=this.l&&(this.contains(this.l)||(this.addChildAt(this.lt,0),this.addChildAt(this.t,0),this.addChildAt(this.rt,0),this.addChildAt(this.l,0),this.addChildAt(this.m,0),this.addChildAt(this.r,0),this.addChildAt(this.lb,0),this.addChildAt(this.b,0),this.addChildAt(this.rb,0)),this.m.width=this.t.width=this.b.width=this._w-this.lt.width-this.rt.width,this.m.height=this.l.height=this.r.height=this._h-this.lt.height-this.lb.height,this.t.x=this.m.x=this.b.x=this.lt.width,this.rt.x=this.r.x=this.rb.x=this.lt.width+this.t.width,this.l.y=this.m.y=this.r.y=this.lt.height,this.lb.y=this.b.y=this.rb.y=this.lt.height+this.l.height,e.prototype.draw.call(this),this.autoCache())},i.prototype.dispose=function(){this.lt&&(this.lt.parent&&this.lt.parent.removeChild(this.lt),this.lt.texture=null,this.lt=null),this.t&&(this.t.parent&&this.t.parent.removeChild(this.t),this.t.texture=null,this.t=null),this.rt&&(this.rt.parent&&this.rt.parent.removeChild(this.rt),this.rt.texture=null,this.rt=null),this.l&&(this.l.parent&&this.l.parent.removeChild(this.l),this.l.texture=null,this.l=null),this.m&&(this.m.parent&&this.m.parent.removeChild(this.m),this.m.texture=null,this.m=null),this.r&&(this.r.parent&&this.r.parent.removeChild(this.r),this.r.texture=null,this.r=null),this.lb&&(this.lb.parent&&this.lb.parent.removeChild(this.lb),this.lb.texture=null,this.lb=null),this.b&&(this.b.parent&&this.b.parent.removeChild(this.b),this.b.texture=null,this.b=null),this.rb&&(this.rb.parent&&this.rb.parent.removeChild(this.rb),this.rb.texture=null,this.rb=null)},i}(t.D5Component);t.D5Window=e,__reflect(e.prototype,"d5power.D5Window")}(d5power||(d5power={}));